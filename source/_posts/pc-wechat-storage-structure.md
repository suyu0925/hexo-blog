---
title: PC版微信的用户数据存储结构
date: 2025-11-28 11:08:10
tags:
  - weixin
description: 介绍PC版微信的用户数据存储结构
---
## 版本

微信最新版本是4.x，下面的内容都是基于4.x版本的。

## 根目录

在微信4之前，用户数据存储在`%USERPROFILE%\Documents\WeChat Files\`目录下。微信4有了较大修改，为了避免与旧版本冲突，用户数据改为存储在`%USERPROFILE%\xwechat_files\`目录。

根目录下会有以下子目录：

- `all_users`：所有用户的共享数据目录。
- `WMPF`：微信主程序目录，存储一些主程序相关的文件。
- `%USERNAME%`：用户数据目录，每个用户有一个子目录，存储该用户的相关数据。

## 用户数据目录分析

- `apm_record`：应用程序管理器记录目录，存储一些应用程序管理器的记录。
- `business`：业务目录，存储一些业务相关的文件。
- `cache`：缓存目录，存储一些临时文件。
- `config`：配置目录，存储一些配置文件。
- `db_storage`：数据库存储目录，存储一些数据库相关的文件。
- `msg`：消息目录，存储一些消息相关的文件。
- `resource`：资源目录，存储一些资源相关的文件。
